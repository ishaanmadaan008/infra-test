Vagrant.configure(2) do |config|
  config.vm.box = "ubuntu/xenial64"
 
  config.vm.network "private_network", ip: "192.168.135.10"
  
  config.vm.provision :shell, inline: 'sudo apt-get  update'
  config.vm.provision :shell, inline: 'sudo apt-get  install -y python'
  config.vm.provision :shell, inline: 'sudo apt-get install -y tomcat8'
  config.vm.provision :shell, inline: "sed -i 's/PermitRootLogin without-password/PermitRootLogin yes/' /etc/ssh/sshd_config"
  config.vm.provision :shell, inline: 'sudo cp /vagrant/spring-webapp/target/springwebapp.war /var/lib/tomcat8/webapps/' 
 
  config.vm.provision "file", source: "~/.ssh/id_rsa.pub", destination: "~/.ssh/authorized_keys"
 
  config.vm.provision :shell, inline: 'sudo service tomcat8 start'
end
